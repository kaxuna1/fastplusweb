(function(){'use strict';function EventEmitter(){}
var proto=EventEmitter.prototype;var exports=this;var originalGlobalValue=exports.EventEmitter;function indexOfListener(listeners,listener){var i=listeners.length;while(i--){if(listeners[i].listener===listener){return i;}}
return-1;}
function alias(name){return function aliasClosure(){return this[name].apply(this,arguments);};}
proto.getListeners=function getListeners(evt){var events=this._getEvents();var response;var key;if(typeof evt==='object'){response={};for(key in events){if(events.hasOwnProperty(key)&&evt.test(key)){response[key]=events[key];}}}
else{response=events[evt]||(events[evt]=[]);}
return response;};proto.flattenListeners=function flattenListeners(listeners){var flatListeners=[];var i;for(i=0;i<listeners.length;i+=1){flatListeners.push(listeners[i].listener);}
return flatListeners;};proto.getListenersAsObject=function getListenersAsObject(evt){var listeners=this.getListeners(evt);var response;if(listeners instanceof Array){response={};response[evt]=listeners;}
return response||listeners;};proto.addListener=function addListener(evt,listener){var listeners=this.getListenersAsObject(evt);var listenerIsWrapped=typeof listener==='object';var key;for(key in listeners){if(listeners.hasOwnProperty(key)&&indexOfListener(listeners[key],listener)===-1){listeners[key].push(listenerIsWrapped?listener:{listener:listener,once:false});}}
return this;};proto.on=alias('addListener');proto.addOnceListener=function addOnceListener(evt,listener){return this.addListener(evt,{listener:listener,once:true});};proto.once=alias('addOnceListener');proto.defineEvent=function defineEvent(evt){this.getListeners(evt);return this;};proto.defineEvents=function defineEvents(evts){for(var i=0;i<evts.length;i+=1){this.defineEvent(evts[i]);}
return this;};proto.removeListener=function removeListener(evt,listener){var listeners=this.getListenersAsObject(evt);var index;var key;for(key in listeners){if(listeners.hasOwnProperty(key)){index=indexOfListener(listeners[key],listener);if(index!==-1){listeners[key].splice(index,1);}}}
return this;};proto.off=alias('removeListener');proto.addListeners=function addListeners(evt,listeners){return this.manipulateListeners(false,evt,listeners);};proto.removeListeners=function removeListeners(evt,listeners){return this.manipulateListeners(true,evt,listeners);};proto.manipulateListeners=function manipulateListeners(remove,evt,listeners){var i;var value;var single=remove?this.removeListener:this.addListener;var multiple=remove?this.removeListeners:this.addListeners;if(typeof evt==='object'&&!(evt instanceof RegExp)){for(i in evt){if(evt.hasOwnProperty(i)&&(value=evt[i])){if(typeof value==='function'){single.call(this,i,value);}
else{multiple.call(this,i,value);}}}}
else{i=listeners.length;while(i--){single.call(this,evt,listeners[i]);}}
return this;};proto.removeEvent=function removeEvent(evt){var type=typeof evt;var events=this._getEvents();var key;if(type==='string'){delete events[evt];}
else if(type==='object'){for(key in events){if(events.hasOwnProperty(key)&&evt.test(key)){delete events[key];}}}
else{delete this._events;}
return this;};proto.removeAllListeners=alias('removeEvent');proto.emitEvent=function emitEvent(evt,args){var listeners=this.getListenersAsObject(evt);var listener;var i;var key;var response;for(key in listeners){if(listeners.hasOwnProperty(key)){i=listeners[key].length;while(i--){listener=listeners[key][i];if(listener.once===true){this.removeListener(evt,listener.listener);}
response=listener.listener.apply(this,args||[]);if(response===this._getOnceReturnValue()){this.removeListener(evt,listener.listener);}}}}
return this;};proto.trigger=alias('emitEvent');proto.emit=function emit(evt){var args=Array.prototype.slice.call(arguments,1);return this.emitEvent(evt,args);};proto.setOnceReturnValue=function setOnceReturnValue(value){this._onceReturnValue=value;return this;};proto._getOnceReturnValue=function _getOnceReturnValue(){if(this.hasOwnProperty('_onceReturnValue')){return this._onceReturnValue;}
else{return true;}};proto._getEvents=function _getEvents(){return this._events||(this._events={});};EventEmitter.noConflict=function noConflict(){exports.EventEmitter=originalGlobalValue;return EventEmitter;};if(typeof define==='function'&&define.amd){define('eventEmitter/EventEmitter',[],function(){return EventEmitter;});}
else if(typeof module==='object'&&module.exports){module.exports=EventEmitter;}
else{this.EventEmitter=EventEmitter;}}.call(this));(function(window){var docElem=document.documentElement;var bind=function(){};function getIEEvent(obj){var event=window.event;event.target=event.target||event.srcElement||obj;return event;}
if(docElem.addEventListener){bind=function(obj,type,fn){obj.addEventListener(type,fn,false);};}else if(docElem.attachEvent){bind=function(obj,type,fn){obj[type+ fn]=fn.handleEvent?function(){var event=getIEEvent(obj);fn.handleEvent.call(fn,event);}:function(){var event=getIEEvent(obj);fn.call(obj,event);};obj.attachEvent("on"+ type,obj[type+ fn]);};}
var unbind=function(){};if(docElem.removeEventListener){unbind=function(obj,type,fn){obj.removeEventListener(type,fn,false);};}else if(docElem.detachEvent){unbind=function(obj,type,fn){obj.detachEvent("on"+ type,obj[type+ fn]);try{delete obj[type+ fn];}catch(err){obj[type+ fn]=undefined;}};}
var eventie={bind:bind,unbind:unbind};if(typeof define==='function'&&define.amd){define('eventie/eventie',eventie);}else{window.eventie=eventie;}})(this);(function(window,factory){if(typeof define==='function'&&define.amd){define(['eventEmitter/EventEmitter','eventie/eventie'],function(EventEmitter,eventie){return factory(window,EventEmitter,eventie);});}else if(typeof exports==='object'){module.exports=factory(window,require('wolfy87-eventemitter'),require('eventie'));}else{window.imagesLoaded=factory(window,window.EventEmitter,window.eventie);}})(window,function factory(window,EventEmitter,eventie){var $=window.jQuery;var console=window.console;var hasConsole=typeof console!=='undefined';function extend(a,b){for(var prop in b){a[prop]=b[prop];}
return a;}
var objToString=Object.prototype.toString;function isArray(obj){return objToString.call(obj)==='[object Array]';}
function makeArray(obj){var ary=[];if(isArray(obj)){ary=obj;}else if(typeof obj.length==='number'){for(var i=0,len=obj.length;i<len;i++){ary.push(obj[i]);}}else{ary.push(obj);}
return ary;}
function ImagesLoaded(elem,options,onAlways){if(!(this instanceof ImagesLoaded)){return new ImagesLoaded(elem,options);}
if(typeof elem==='string'){elem=document.querySelectorAll(elem);}
this.elements=makeArray(elem);this.options=extend({},this.options);if(typeof options==='function'){onAlways=options;}else{extend(this.options,options);}
if(onAlways){this.on('always',onAlways);}
this.getImages();if($){this.jqDeferred=new $.Deferred();}
var _this=this;setTimeout(function(){_this.check();});}
ImagesLoaded.prototype=new EventEmitter();ImagesLoaded.prototype.options={};ImagesLoaded.prototype.getImages=function(){this.images=[];for(var i=0,len=this.elements.length;i<len;i++){var elem=this.elements[i];if(elem.nodeName==='IMG'){this.addImage(elem);}
var nodeType=elem.nodeType;if(!nodeType||!(nodeType===1||nodeType===9||nodeType===11)){continue;}
var childElems=elem.querySelectorAll('img');for(var j=0,jLen=childElems.length;j<jLen;j++){var img=childElems[j];this.addImage(img);}}};ImagesLoaded.prototype.addImage=function(img){var loadingImage=new LoadingImage(img);this.images.push(loadingImage);};ImagesLoaded.prototype.check=function(){var _this=this;var checkedCount=0;var length=this.images.length;this.hasAnyBroken=false;if(!length){this.complete();return;}
function onConfirm(image,message){if(_this.options.debug&&hasConsole){console.log('confirm',image,message);}
_this.progress(image);checkedCount++;if(checkedCount===length){_this.complete();}
return true;}
for(var i=0;i<length;i++){var loadingImage=this.images[i];loadingImage.on('confirm',onConfirm);loadingImage.check();}};ImagesLoaded.prototype.progress=function(image){this.hasAnyBroken=this.hasAnyBroken||!image.isLoaded;var _this=this;setTimeout(function(){_this.emit('progress',_this,image);if(_this.jqDeferred&&_this.jqDeferred.notify){_this.jqDeferred.notify(_this,image);}});};ImagesLoaded.prototype.complete=function(){var eventName=this.hasAnyBroken?'fail':'done';this.isComplete=true;var _this=this;setTimeout(function(){_this.emit(eventName,_this);_this.emit('always',_this);if(_this.jqDeferred){var jqMethod=_this.hasAnyBroken?'reject':'resolve';_this.jqDeferred[jqMethod](_this);}});};if($){$.fn.imagesLoaded=function(options,callback){var instance=new ImagesLoaded(this,options,callback);return instance.jqDeferred.promise($(this));};}
function LoadingImage(img){this.img=img;}
LoadingImage.prototype=new EventEmitter();LoadingImage.prototype.check=function(){var resource=cache[this.img.src]||new Resource(this.img.src);if(resource.isConfirmed){this.confirm(resource.isLoaded,'cached was confirmed');return;}
if(this.img.complete&&this.img.naturalWidth!==undefined){this.confirm(this.img.naturalWidth!==0,'naturalWidth');return;}
var _this=this;resource.on('confirm',function(resrc,message){_this.confirm(resrc.isLoaded,message);return true;});resource.check();};LoadingImage.prototype.confirm=function(isLoaded,message){this.isLoaded=isLoaded;this.emit('confirm',this,message);};var cache={};function Resource(src){this.src=src;cache[src]=this;}
Resource.prototype=new EventEmitter();Resource.prototype.check=function(){if(this.isChecked){return;}
var proxyImage=new Image();eventie.bind(proxyImage,'load',this);eventie.bind(proxyImage,'error',this);proxyImage.src=this.src;this.isChecked=true;};Resource.prototype.handleEvent=function(event){var method='on'+ event.type;if(this[method]){this[method](event);}};Resource.prototype.onload=function(event){this.confirm(true,'onload');this.unbindProxyEvents(event);};Resource.prototype.onerror=function(event){this.confirm(false,'onerror');this.unbindProxyEvents(event);};Resource.prototype.confirm=function(isLoaded,message){this.isConfirmed=true;this.isLoaded=isLoaded;this.emit('confirm',this,message);};Resource.prototype.unbindProxyEvents=function(event){eventie.unbind(event.target,'load',this);eventie.unbind(event.target,'error',this);};return ImagesLoaded;});;(function($,window,undefined){var $allDropdowns=$();$.fn.dropdownHover=function(options){if('ontouchstart'in document)return this;$allDropdowns=$allDropdowns.add(this.parent());return this.each(function(){var $this=$(this),$parent=$this.parent(),defaults={delay:500,hoverDelay:0,instantlyCloseOthers:true},data={delay:$(this).data('delay'),hoverDelay:$(this).data('hover-delay'),instantlyCloseOthers:$(this).data('close-others')},showEvent='show.bs.dropdown',hideEvent='hide.bs.dropdown',settings=$.extend(true,{},defaults,options,data),timeout,timeoutHover;$parent.hover(function(event){if(!$parent.hasClass('open')&&!$this.is(event.target)){return true;}
openDropdown(event);},function(){window.clearTimeout(timeoutHover)
timeout=window.setTimeout(function(){$this.attr('aria-expanded','false');$parent.removeClass('open');$this.trigger(hideEvent);},settings.delay);});$this.hover(function(event){if(!$parent.hasClass('open')&&!$parent.is(event.target)){return true;}
openDropdown(event);});$parent.find('.dropdown-submenu').each(function(){var $this=$(this);var subTimeout;$this.hover(function(){window.clearTimeout(subTimeout);$this.children('.dropdown-menu').show();$this.siblings().children('.dropdown-menu').hide();},function(){var $submenu=$this.children('.dropdown-menu');subTimeout=window.setTimeout(function(){$submenu.hide();},settings.delay);});});function openDropdown(event){window.clearTimeout(timeout);window.clearTimeout(timeoutHover);timeoutHover=window.setTimeout(function(){$allDropdowns.find(':focus').blur();if(settings.instantlyCloseOthers===true)
$allDropdowns.removeClass('open');window.clearTimeout(timeoutHover);$this.attr('aria-expanded','true');$parent.addClass('open');$this.trigger(showEvent);},settings.hoverDelay);}});};$(document).ready(function(){$('[data-hover="dropdown"]').dropdownHover();});$(document.body).on('click','.nav [data-toggle="dropdown"]',function(){if(this.href&&this.href!='#'){window.location.href=this.href;}});})(jQuery,window);(function($){$("[data-progress-animation]").each(function(){var $this=$(this);$this.appear(function(){var delay=($this.attr("data-appear-animation-delay")?$this.attr("data-appear-animation-delay"):1);if(delay>1)$this.css("animation-delay",delay+"ms");setTimeout(function(){$this.animate({width:$this.attr("data-progress-animation")},800);},delay);},{accX:0,accY:-50});});$.fn.wrapStart=function(numWords){return this.each(function(){var $this=$(this);var node=$this.contents().filter(function(){return this.nodeType==3;}).first(),text=node.text().trim(),first=text.split(' ',1).join(" ");if(!node.length)return;node[0].nodeValue=text.slice(first.length);node.before('<b>'+ first+'</b>');});};jQuery(document).ready(function(){$('.mod-heading .widget-title > span').wrapStart(1);function init_owl(){$(".owl-carousel[data-carousel=owl]").each(function(){var config={loop:false,nav:$(this).data('nav'),dots:$(this).data('pagination'),items:4,autoplayTimeout:2000,autoplayHoverPause:false,navText:['<span class="fa fa-angle-left"></span>','<span class="fa fa-angle-right"></span>']};var owl=$(this);if($(this).data('items')){config.items=$(this).data('items');}
if($(this).data('loop')){config.loop=true;}
if($(this).data('autoplay')){config.autoplay=true;config.autoplayHoverPause=true;}
if($(this).data('autoplayTimeout')){config.autoplayTimeout=$(this).data('autoplayTimeout');}
if($(this).data('large')){var desktop=$(this).data('large');}else{var desktop=config.items;}
if($(this).data('medium')){var medium=$(this).data('medium');}else{var medium=config.items;}
if($(this).data('smallmedium')){var smallmedium=$(this).data('smallmedium');}else{var smallmedium=config.items;}
if($(this).data('extrasmall')){var extrasmall=$(this).data('extrasmall');}else{var extrasmall=2;}
if($(this).data('verysmall')){var verysmall=$(this).data('verysmall');}else{var verysmall=1;}
config.responsive={0:{items:verysmall},320:{items:extrasmall},768:{items:smallmedium},980:{items:medium},1280:{items:desktop}}
if($('html').attr('dir')=='rtl'){config.rtl=true;}
$(this).owlCarousel(config);var viewport=jQuery(window).width();var itemCount=jQuery(".owl-item",$(this)).length;if((viewport>=1280&&itemCount<=desktop)||((viewport>=980&&viewport<1280)&&itemCount<=medium)||((viewport>=768&&viewport<980)&&itemCount<=smallmedium)||((viewport>=320&&viewport<768)&&itemCount<=extrasmall)||(viewport<320&&itemCount<=verysmall)){$(this).find('.owl-prev, .owl-next').hide();}});}
init_owl();$('a[data-toggle="tab"]').on('shown.bs.tab',function(e){initProductImageLoad();var target=$(e.target).attr("href");var carousel=$(".owl-carousel[data-carousel=owl]",target).data('owlCarousel');if($(".owl-carousel[data-carousel=owl]",target).length>0){carousel._width=$(".owl-carousel[data-carousel=owl]",target).width();carousel.invalidate('width');carousel.refresh();}});if($(".entry-featured-carousel .owl-carousel .photo-item").length>2){$(".entry-featured-carousel .owl-carousel").trigger("to.owl.carousel",[1,1,true]);}})
setTimeout(function(){initProductImageLoad();},500);function initProductImageLoad(){$(window).off('scroll.unveil resize.unveil lookup.unveil');var $images=$('.image-wrapper:not(.image-loaded) .unveil-image');if($images.length){var scrollTolerance=1;$images.unveil(scrollTolerance,function(){$(this).parents('.image-wrapper').first().addClass('image-loaded');});}
var $images=$('.product-image:not(.image-loaded) .unveil-image');if($images.length){var scrollTolerance=1;$images.unveil(scrollTolerance,function(){$(this).parents('.product-image').first().addClass('image-loaded');});}}
$('.search-form-action').click(function(){$('.apus-search-form').slideToggle("fast");initProductImageLoad();});$('.button-search-close').click(function(){$('.apus-search-form').slideToggle("fast");});$('.view-photo-action').click(function(e){e.preventDefault();$('.more-photos').toggleClass('hidden');$('.view-photo-action').removeClass('hidden');$(this).addClass('hidden');initProductImageLoad();});$('.search-form-action').click(function(){if($(this).find('i').hasClass('pe-7s-search')){$(this).find('i').removeClass('pe-7s-search').addClass('pe-7s-close');}else{$(this).find('i').removeClass('pe-7s-close').addClass('pe-7s-search');}});})(jQuery)
jQuery(document).ready(function($){if($('.counterUp').length>0){$('.counterUp').counterUp({delay:10,time:800});}
jQuery('.isotope-items,.blog-masonry').each(function(){var $container=jQuery(this);$container.imagesLoaded(function(){$container.isotope({itemSelector:'.isotope-item',transformsEnabled:true});});});jQuery('.isotope-filter li a').on('click',function(){var parentul=jQuery(this).parents('ul.isotope-filter').data('related-grid');jQuery(this).parents('ul.isotope-filter').find('li a').removeClass('active');jQuery(this).addClass('active');var selector=jQuery(this).attr('data-filter');jQuery('#'+parentul).isotope({filter:selector},function(){});return(false);});if($('body.fix-header').length<=0){setTimeout(function(){change_margin_top();},200);$(window).resize(function(){change_margin_top();});function change_margin_top(){if($(window).width()>991){if($('.main-sticky-header').length>0){var header_height=$('.main-sticky-header').outerHeight();$('.main-sticky-header-wrapper').css({'height':header_height});}}}
var main_sticky=$('.main-sticky-header');if(main_sticky.length>0){var _menu_action=main_sticky.offset().top;var Apus_Menu_Fixed=function(){"use strict";if($(document).scrollTop()>_menu_action){main_sticky.addClass('sticky-header');}else{main_sticky.removeClass('sticky-header');}}
if($(window).width()>991){$(window).scroll(function(event){Apus_Menu_Fixed();});Apus_Menu_Fixed();}}}
$(function(){$('[data-toggle="tooltip"]').tooltip()})
$('.topbar-mobile .dropdown-menu').on('click',function(e){e.stopPropagation();});var back_to_top=function(){jQuery(window).scroll(function(){if(jQuery(this).scrollTop()>400){jQuery('#back-to-top').addClass('active');}else{jQuery('#back-to-top').removeClass('active');}});jQuery('#back-to-top').on('click',function(){jQuery('html, body').animate({scrollTop:'0px'},800);return false;});};back_to_top();$(document).ready(function(){$(".popup-image").magnificPopup({type:'image'});$('.popup-video').magnificPopup({disableOn:700,type:'iframe',mainClass:'mfp-fade',removalDelay:160,preloader:false,fixedContentPos:false});$('.listing-photos').magnificPopup({delegate:'.photo-item',type:'image',tLoading:'Loading image #%curr%...',mainClass:'mfp-img-mobile',gallery:{enabled:true,navigateByImgClick:true,preload:[0,1]}});});$('.apus-user-login, .apus-user-register').click(function(){var target=$(this).attr('href');$.magnificPopup.open({mainClass:'apus-mfp-zoom-in',items:{src:$(target).html(),type:'inline'}});return false;});$('#apus_forgot_password_form').hide();$('#apus_login_form form .btn-cancel').on('click',function(){$('#apus_login_form').hide();});$('body').on('submit','form.apus-login-form',function(){var $this=$(this);$('.alert',this).remove();$.ajax({url:prolist_ajax.ajaxurl,type:'POST',dataType:'json',data:$(this).serialize()+"&action=apus_ajax_login"}).done(function(data){if(data.loggedin){$this.prepend('<div class="alert alert-info">'+ data.msg+'</div>');location.reload();}else{$this.prepend('<div class="alert alert-warning">'+ data.msg+'</div>');}});return false;});$('body').on('click','.back-link',function(){$('.form-container').hide();$($(this).attr('href')).show();return false;});$('body').on('submit','form.forgotpassword-form',function(){var $this=$(this);$('.alert',this).remove();$.ajax({url:prolist_ajax.ajaxurl,type:'POST',dataType:'json',data:$(this).serialize()+"&action=apus_ajax_forgotpass"}).done(function(data){if(data.loggedin){$this.prepend('<div class="alert alert-info">'+data.msg+'</div>');location.reload();}else{$this.prepend('<div class="alert alert-warning">'+data.msg+'</div>');}});return false;});$('body').on('submit','form.apus-register-form',function(){var $this=$(this);$('.alert',this).remove();$.ajax({url:prolist_ajax.ajaxurl,type:'POST',dataType:'json',data:$(this).serialize()+"&action=apus_ajax_register"}).done(function(data){if(data.loggedin){$this.prepend('<div class="alert alert-info">'+data.msg+'</div>');location.reload();}else{$this.prepend('<div class="alert alert-warning">'+data.msg+'</div>');}});return false;});$('[data-toggle="offcanvas"], .btn-offcanvas').on('click',function(){$('#wrapper-container').toggleClass('active');$('#apus-mobile-menu').toggleClass('active');});$("#main-mobile-menu .icon-toggle").on('click',function(){$(this).parent().find('.sub-menu').slideToggle();if($(this).find('i').hasClass('fa-plus')){$(this).find('i').removeClass('fa-plus').addClass('fa-minus');}else{$(this).find('i').removeClass('fa-minus').addClass('fa-plus');}
return false;});var $body=$('body');if($body.hasClass('apus-body-loading')){setTimeout(function(){$body.removeClass('apus-body-loading');$('.apus-page-loading').fadeOut(250);},200);}
$("body").on("click",".apus-wishlist-add",function(e){e.preventDefault();var post_id=$(this).data('id');var url=prolist_ajax.ajaxurl+'?action=prolist_add_wishlist&post_id='+ post_id;var self=$(this);$.ajax({url:url,type:'POST',dataType:'json',}).done(function(reponse){$.magnificPopup.open({mainClass:'apus-mfp-zoom-small-in',items:{src:reponse.msg,type:'inline'}});if(reponse.icon){self.parent().html(reponse.icon);}});});$("body").on("click",".apus-wishlist-not-login",function(e){e.preventDefault();$.magnificPopup.open({mainClass:'apus-mfp-zoom-small-in',items:{src:$('.apus-wishlist-login-info').html(),type:'inline'}});});$("body").on("click",".apus-wishlist-remove",function(e){e.preventDefault();var post_id=$(this).data('id');var url=prolist_ajax.ajaxurl+'?action=prolist_remove_wishlist&post_id='+ post_id;var self=$(this);$.ajax({url:url,type:'POST',dataType:'json',}).done(function(reponse){if(reponse.status){var parent=$('#wishlist-listing-'+ post_id).parent().parent();if($('.wishlist-item',parent).length<=1){location.reload();}else{$('#wishlist-listing-'+ post_id).parent().remove();}}else{$.magnificPopup.open({mainClass:'apus-mfp-zoom-small-in',items:{src:reponse.msg,type:'inline'}});}});});if($('#apus-listing-map').is('.fix-map')){function change_padding_top_content(){if($(window).width()>=992){var header_h=$('#apus-header').outerHeight();}else{var header_h=$('#apus-header-mobile').outerHeight();}
$('#apus-listing-map').css({'top':header_h});$('#apus-main-content').css({'padding-top':header_h});}
change_padding_top_content();$(window).resize(function(){change_padding_top_content();});}
if($('.job_filters .search_jobs').length){function change_search_job(){if($(window).width()>=992){$('.job_filters .search_jobs').css({'display':'block'});}else{$('.job_filters .search_jobs').css({'display':'none'});}}
change_search_job();$(window).resize(function(){change_search_job();});}
if($('.comment-form-rating').length>0){var $star=$('.comment-form-rating .filled');var $review=$('#apus_input_rating');$star.find('li').on('mouseover',function(){$(this).nextAll().find('span').removeClass('fa-star').addClass('fa-star-o');$(this).prevAll().find('span').removeClass('fa-star-o').addClass('fa-star');$(this).find('span').removeClass('fa-star-o').addClass('fa-star');$review.val($(this).index()+ 1);});}
if(window.history&&window.history.pushState){$supports_html5_history=true;}else{$supports_html5_history=false;}
if($.isFunction($.fn.chosen)){if(typeof job_manager_ajax_filters!=='undefined'&&job_manager_ajax_filters.is_rtl==1){$('select[name^="job_region_select"]').addClass('chosen-rtl');}
$('select[name^="job_region_select"]').chosen({search_contains:true});if(typeof job_manager_ajax_filters!=='undefined'&&job_manager_ajax_filters.is_rtl==1){$('select[name^="search_categories"]').addClass('chosen-rtl');}
$('select[name^="search_categories"]').chosen({search_contains:true});}
$('.job_filters select[name=job_region_select]').change(function(){$('.job_listings').triggerHandler('update_results',[1,false]);var target=$('.job_listings');if($supports_html5_history){var form=target.find('.job_filters');var data=$(form).serialize();var index=$('div.job_listings').index(target);window.history.replaceState({id:'job_manager_state',page:1,data:data,index:index},'',location+'#s=1');}});var updateAmenities=function(){$('.job_amenities :input').change(function(){$(this).parent().toggleClass('active');var target=$(this).closest('div.job_listings');target.triggerHandler('update_results',[1,false]);});};updateAmenities();$('.job_amenities :input').each(function(){if($(this).is(':checked')){$(this).parent().addClass('active');}else{$(this).parent().removeClass('active');}});var $displayMode=$('.listing-display-mode .display-mode .change-view'),updateDisplayMode=function(){$displayMode.click(function(e){e.preventDefault();var value=$(this).data('mode');$('#input_display_mode').val(value);$displayMode.removeClass('active');$(this).addClass('active');$('.job_listings').triggerHandler('update_results',[1,false]);});};updateDisplayMode();$('#search-distance-slider').slider({range:"min",value:$('#search_distance').val(),min:0,max:100,slide:function(event,ui){$("#search_distance").val(ui.value);$('.text-distance').text(ui.value);$('.job_listings').triggerHandler('update_results',[1,false]);}});$.fn.bindFirst=function(name,selector,fn){this.on(name,selector,fn);this.each(function(){var handlers=$._data(this,'events')[name.split('.')[0]];var handler=handlers.pop();handlers.splice(0,0,handler);});};$('.job_filters').bindFirst('click','.reset',function(){$('.active-amenities').empty();$('.amenities-select').find(':selected').each(function(i,obj){$(obj).attr('selected',false);});$('.amenities-select').trigger("chosen:updated");$('.regions-select').find(':selected').each(function(i,obj){$(obj).attr('selected',false);});$('.regions-select').trigger("chosen:updated");$('input[name="search_keywords"]').each(function(i,obj){$(obj).val('').trigger('chosen:updated');});});if($('.detail-haft-map').length>0){$('body').addClass('no-breadscrumb no-footer fix-header');}
if($('.detail-full-gallery').length>0||$('.detail-full-map').length>0){$('body').addClass('no-breadscrumb');}
$('.write-a-review').click(function(e){e.preventDefault();$('html, body').animate({scrollTop:$("#review_form_wrapper").offset().top},1000);});$('.btn-show-filter').click(function(e){e.preventDefault();$('.search_jobs').slideToggle();});$('.btn-view-map').click(function(e){e.preventDefault();$('.apus-listing-map').removeClass('hidden-sm').removeClass('hidden-xs');$('.apus-listing-warpper .job_listings').addClass('hidden-sm').addClass('hidden-xs');$('.btn-view-listing').removeClass('hidden-sm').removeClass('hidden-xs');$(this).addClass('hidden-sm').addClass('hidden-xs');$('.showing_jobs').addClass('hidden-sm').addClass('hidden-xs');setTimeout(function(){$(window).trigger('pxg:refreshmap');});});$('.btn-view-listing').click(function(e){e.preventDefault();$('.apus-listing-map').addClass('hidden-sm').addClass('hidden-xs');$('.apus-listing-warpper .job_listings').removeClass('hidden-sm').removeClass('hidden-xs');$('.btn-view-map').removeClass('hidden-sm').removeClass('hidden-xs');$(this).addClass('hidden-sm').addClass('hidden-xs');$('.showing_jobs').removeClass('hidden-sm').removeClass('hidden-xs');});$('.sharing-popup .share-popup').click(function(e){e.preventDefault();$(this).parent().toggleClass('active');});$('.timepicker').timepicker({timeFormat:prolist_ajax.time_format,noneOption:{label:prolist_ajax.closed_text,value:prolist_ajax.closed_text}});var affix_height=0;var affix_height_top=0;setTimeout(function(){change_margin_top_affix();},50);$(window).resize(function(){change_margin_top_affix();});function change_margin_top_affix(){if($(window).width()>991){if($('.panel-affix').length>0){affix_height_top=affix_height=$('.panel-affix').outerHeight();$('.panel-affix-wrapper').css({'height':affix_height});}}}
var stickyElement='.panel-affix',bottomElement='#apus-footer';if($(stickyElement).length){$(stickyElement).each(function(){var header_height=0;if($('.main-sticky-header').length>0){header_height=$('.main-sticky-header').outerHeight();affix_height_top=affix_height+ header_height;}
var fromTop=$(this).offset().top,fromBottom=$(document).height()-($(this).offset().top+ $(this).outerHeight()),stopOn=$(document).height()-($(bottomElement).offset().top)+($(this).outerHeight()- $(this).height());if((fromBottom-stopOn)>200){$(this).css('width',$(this).width()).css('top',0).css('position','');$(this).affix({offset:{top:fromTop- header_height,bottom:stopOn}}).on('affix.bs.affix',function(){var header_height=0;if($('.main-sticky-header').length>0){header_height=$('.main-sticky-header').outerHeight();}
affix_height_top=affix_height+ header_height;$(this).css('top',header_height).css('position','');});}
$(window).trigger('scroll');});}
$('body').scrollspy({offset:80});$('.panel-affix a[href*=#]:not([href=#])').click(function(){if(location.pathname.replace(/^\//,'')==this.pathname.replace(/^\//,'')&&location.hostname==this.hostname){var target=$(this.hash);target=target.length?target:$('[name='+ this.hash.slice(1)+']');if(target.length){$('html,body').animate({scrollTop:target.offset().top- affix_height_top},1000);return false;}}});});function setCookie(cname,cvalue,exdays){var d=new Date();d.setTime(d.getTime()+(exdays*24*60*60*1000));var expires="expires="+d.toUTCString();document.cookie=cname+"="+ cvalue+"; "+ expires+";path=/";}
function getCookie(cname){var name=cname+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1);if(c.indexOf(name)==0)return c.substring(name.length,c.length);}
return"";}
jQuery(document).ready(function($){function initialize(){var input=document.getElementById('search_location');var autocomplete=new google.maps.places.Autocomplete(input);google.maps.event.addListener(autocomplete,'place_changed',function(){var place=autocomplete.getPlace();document.getElementById('search_lat').value=place.geometry.location.lat();document.getElementById('search_lng').value=place.geometry.location.lng();$('.job_listings').triggerHandler('update_results',[1,false]);});}
google.maps.event.addDomListener(window,'load',initialize);function getLocation(position){$('#search_lat').val(position.coords.latitude);$('#search_lng').val(position.coords.longitude);$('#search_location').val('Location');var geocoder=new google.maps.Geocoder();var latLng=new google.maps.LatLng(position.coords.latitude,position.coords.longitude);if(geocoder){geocoder.geocode({'latLng':latLng},function(results,status){if(status==google.maps.GeocoderStatus.OK){$('#search_location').val(results[0].formatted_address);}});}
setTimeout(function(){$('.job_listings').triggerHandler('update_results',[1,false]);},50);return $('.find-me').removeClass('loading');}
function getErrorLocation(position){return $('.find-me').removeClass('loading');}
$('body').on('click','.find-me',function(){$(this).addClass('loading');navigator.geolocation.getCurrentPosition(getLocation,getErrorLocation);});$('.apus-google-map').each(function(){var lat=$(this).data('lat');var lng=$(this).data('lng');var zoom=$(this).data('zoom');var id=$(this).attr('id');$('#'+id).gmap3({map:{options:{"draggable":true,"mapTypeControl":true,"mapTypeId":google.maps.MapTypeId.ROADMAP,"scrollwheel":false,"panControl":true,"rotateControl":false,"scaleControl":true,"streetViewControl":true,"zoomControl":true,"center":[lat,lng],"zoom":zoom,'styles':[{featureType:"all",elementType:"all","stylers":[{"featureType":"landscape.man_made","elementType":"geometry","stylers":[{"color":"#f7f1df"}]},{"featureType":"landscape.natural","elementType":"geometry","stylers":[{"color":"#d0e3b4"}]},{"featureType":"landscape.natural.terrain","elementType":"geometry","stylers":[{"visibility":"off"}]},{"featureType":"poi","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"poi.business","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"poi.medical","elementType":"geometry","stylers":[{"color":"#fbd3da"}]},{"featureType":"poi.park","elementType":"geometry","stylers":[{"color":"#bde6ab"}]},{"featureType":"road","elementType":"geometry.stroke","stylers":[{"visibility":"off"}]},{"featureType":"road","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"road.highway","elementType":"geometry.fill","stylers":[{"color":"#ffe15f"}]},{"featureType":"road.highway","elementType":"geometry.stroke","stylers":[{"color":"#efd151"}]},{"featureType":"road.arterial","elementType":"geometry.fill","stylers":[{"color":"#ffffff"}]},{"featureType":"road.local","elementType":"geometry.fill","stylers":[{"color":"black"}]},{"featureType":"transit.station.airport","elementType":"geometry.fill","stylers":[{"color":"#cfb2db"}]},{"featureType":"water","elementType":"geometry","stylers":[{"color":"#a2daf2"}]}]}]}},marker:{latLng:[lat,lng]}});});});jQuery(function(){jQuery('[href=#down]').on('click',function(e){e.preventDefault();jQuery('html, body').animate({scrollTop:jQuery(jQuery(this).attr('href')).offset().top},500,'linear');});});